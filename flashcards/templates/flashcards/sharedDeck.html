{% extends 'flashcards/layout.html' %}

{% block content %}
<div class="container mt-4">
  <h2>Shared Deck: {{ deck.name }}</h2>
  <p>{{ deck.description }}</p>

  <!-- Copy Button -->
  {% if user.is_authenticated %}
  <form action="{% url 'copy_shared_deck' deck.share_token %}" method="post" class="mt-3">
    {% csrf_token %}
    <button type="submit" class="btn btn-success">Copy This Deck to My Account</button>
  </form>
  {% else %}
  <p><em><a href="{% url 'login' %}">Log in</a> to copy this deck to your account.</em></p>
  {% endif %}

  <!-- Cards -->
  <div class="mt-4">
    {% for card in cards %}
      <div class="card mb-3">
        <div class="card-body">
          <p><strong>Q:</strong> {{ card.front }}</p>
          <hr>
          <p><strong>A:</strong> {{ card.back }}</p>
        </div>
      </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
